---
layout: default
---

<div class="category-page container-subcategory-page">
  <h1>{{ page.title }}</h1>

  <!-- טעינת רשימת המתכונים ישירות מ- site.recipes 
       לפי הקטגוריה (page.category) 
       ואז grouping ע"י subcategory -->
  <div class="subcategory-grid">
    {% assign subcategories = site.recipes 
       | where: "category", page.category 
       | group_by: "subcategory" %}

    {% if subcategories.size > 0 %}
      {% for subcategory in subcategories %}
        <div class="subcategory-card">
          {% comment %}
            subcategory.items הוא מערך של recipe-ים שיש להם:
            - image (אם הוגדר)
            - url (אם הוגדר)
            - title (שם המתכון)
            - וכו'...
          {% endcomment %}

          {% if subcategory.items[0].image %}
            <img 
              src="{{ site.baseurl }}{{ subcategory.items[0].image }}" 
              alt="{{ subcategory.name }}" 
              class="subcategory-image"
            >
          {% endif %}

          <div class="subcategory-content">
            <!-- שם התת-קטגוריה אפשר להציג/להסתיר -->
            <!-- <h2>{{ subcategory.name }}</h2> -->

            {% if subcategory.items.size > 0 %}
              <ul class="recipe-list">
                {% for recipe in subcategory.items %}
                  <li>
                    <a href="{{ site.baseurl }}{{ recipe.url }}">
                      {{ recipe.title }}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            {% else %}
              <p>לא נמצאו מתכונים לתת־קטגוריה הזו.</p>
            {% endif %}

            <!-- קישור ל"דף משנה" עם מתכונים נוספים של אותה תת-קטגוריה 
                 במידה ואתה יוצר דף כזה. -->
            <a 
              href="{{ site.baseurl }}/categories/{{ page.category }}/{{ subcategory.name | slugify }}/" 
              class="view-subcategory"
            >
              צפייה במתכונים נוספים
            </a>
          </div>
        </div>
      {% endfor %}
    {% else %}
      <p>לא נמצאו תת־קטגוריות עבור קטגוריה זו.</p>
    {% endif %}
  </div>

  <a href="{{ site.baseurl }}/" class="back-button">חזרה לדף הבית</a>
</div>
