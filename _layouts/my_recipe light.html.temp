<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    {% include head.html %}
    <meta name="description" content="{% if page.short_description %}{{ page.short_description | strip_newlines | strip_html }}{% else %}{{ site.description }}{% endif %}">
    
    <style>
    /* -----------------------------------------------------------------
       סגנונות ייעודיים לדף מתכון בלבד
       ------------------------------------------------------------------ */

    /* עטיפת כל הדף */
    body {
      background-image: url('/images/background.jpg'); /* הגדרת התמונה כרקע */
      background-size: cover; /* התאמת התמונה למלוא השטח */
      background-repeat: no-repeat; /* מניעת חזרה של התמונה */
      background-attachment: fixed; /* התמונה נשארת קבועה בעת גלילה */
      background-position: center; /* מרכז התמונה */
    }

    main.container.recipe-page {
      max-width: 1000px;
      margin: 0 auto;
      padding: 7rem 2rem 2rem; /* רווח עליון נוסף מתחת ל-header */
      text-align: center;
      background-color: transparent;
      border: 1px solid rgba(255, 255, 255, 0.5); /* גבול עדין */
      border-radius: 12px;
    }

    /* הקופסה של המתכון */
    .recipe-container {
      margin-top: 1rem;
      background-color: #fff;
      border-radius: 12px; 
      padding: 2rem 1.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .recipe-container:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
    }

    .recipe-header h1 {
      font-size: 3rem; /* הגדלת גודל הכותרת */
      color: #333;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      text-align: center;
      margin-bottom: 1rem;
    }

    .recipe-image {
      max-width: 100%;
      width: 80%; /* הקטנת התמונה */
      height: auto;
      border-radius: 8px;
      box-shadow: 0 8px 12px rgba(0,0,0,0.15);
      margin-top: 1rem;
      margin-bottom: 2rem; /* רווח מתחת לתמונה */
    }

    /* אזור הפרטים הבסיסיים */
    .recipe-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: space-around;
      background-color: #F5F0FF; /* רקע סגול בהיר */
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 2rem;
    }

    .recipe-meta div {
      flex: 1 1 calc(25% - 1rem);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      background-color: #fff;
      border: 1px solid #E0E0E0;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      text-align: center;
    }

    .recipe-meta div:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transform: scale(1.05);
    }

    .recipe-meta .icon {
      font-size: 2rem;
      color: #333;
      margin-bottom: 0.5rem;
    }

    /* מצרכים והוראות */
    .ingredients, .instructions {
      margin-bottom: 2rem;
      text-align: right; /* יישור טקסט לימין */
    }

    .ingredients h2, .instructions h2 {
      font-size: 1.6rem;
      margin-bottom: 0.5rem;
      border-bottom: 2px solid #ccc;
      display: inline-block;
      padding-bottom: 0.25rem;
      color: #333;
      text-align: center; /* ממרכז כותרות */
    }

    .instructions ol {
      margin: 1rem auto;
      max-width: 650px;
      line-height: 1.6;
      color: #444;
      padding-right: 1.5rem;
      direction: rtl;
    }

    .instructions ol li {
      margin-bottom: 0.5rem;
      counter-increment: step-counter;
    }

    .instructions ol li::marker {
      color: #333;
      font-weight: bold;
    }

    /* סגנון ייחודי ל"טיפ של השף" */
    .chef-tip {
      margin-top: 1.5rem;
      background-color: #FFF0F5; /* צבע רקע לטיפ */
      padding: 1rem;
      border-radius: 8px;
      font-style: italic;
    }

    /* כפתורי פעולה */
    .recipe-actions {
      display: flex;
      gap: 1.5rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 2rem;
    }

    .recipe-actions .back-button,
    .recipe-actions .print-button {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.7rem 1.5rem;
      background-color: #E8E6FF; /* צבע סגול בהיר */
      color: #333;
      border: 1px solid #D6D4FF;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s, transform 0.2s;
    }

    .recipe-actions .back-button:hover,
    .recipe-actions .print-button:hover {
      background-color: #D1CFFF; /* צבע כהה יותר */
      transform: translateY(-3px);
    }

    /* רספונסיביות */
    @media (max-width: 768px) {
      .recipe-meta div {
        flex: 1 1 calc(50% - 1rem); /* שתי שורות בטלפון */
      }

      main.container.recipe-page {
        padding: 6rem 1rem 2rem; /* התאמה למסכים קטנים */
      }
    }
    </style>
</head>
<body>
    <header>
        {% include header.html %}
    </header>

    <main class="container recipe-page">
        <article class="recipe-container">
            <header class="recipe-header">
                <h1>{{ page.title }}</h1>
                {% if page.short_description %}
                <p class="short-description">{{ page.short_description }}</p>
                {% endif %}
                {% if page.image %}
                <img src="{{ page.image | relative_url }}" alt="{{ page.title }}" class="recipe-image">
                {% endif %}
            </header>

            <div class="recipe-meta">
                <div>
                    <span class="icon"><i class="far fa-clock"></i></span>
                    <strong>זמן הכנה:</strong>
                    <span>{{ page.prep_time }}</span>
                </div>
                <div>
                    <span class="icon"><i class="fas fa-fire"></i></span>
                    <strong>זמן בישול:</strong>
                    <span>{{ page.cook_time }}</span>
                </div>
                <div>
                    <span class="icon"><i class="fas fa-utensils"></i></span>
                    <strong>מנות:</strong>
                    <span>{{ page.servings }}</span>
                </div>
                <div>
                    <span class="icon"><i class="fas fa-star"></i></span>
                    <strong>דרגת קושי:</strong>
                    <span>{{ page.difficulty }}</span>
                </div>
            </div>

            <section class="ingredients">
                <h2>מצרכים</h2>
                <ol>
                    {% for ingredient in page.ingredients %}
                    <li>{{ ingredient }}</li>
                    {% endfor %}
                </ol>
            </section>

            <section class="instructions">
                <h2>אופן הכנה</h2>
                <ol>
                    {% for step in page.instructions %}
                        {% if step contains "טיפ של השף" %}
                            <li class="chef-tip">
                                {{ step | replace: "טיפ של השף: ", "" }}
                            </li>
                        {% else %}
                            <li>{{ step }}</li>
                        {% endif %}
                    {% endfor %}
                </ol>
            </section>

            <div class="recipe-actions">
                {% if page.category and page.subcategory %}
                  <a href="/categories/{{ page.category }}/{{ page.subcategory }}/" class="back-button">
                    <span class="icon"><i class="fas fa-arrow-circle-left"></i></span>
                    חזרה לתת-קטגוריה
                  </a>
                {% endif %}
                <a href="/" class="back-button">
                    <span class="icon"><i class="fas fa-home"></i></span>
                    חזרה לדף הבית
                </a>
                <button onclick="window.print()" class="print-button">
                    <span class="icon"><i class="fas fa-print"></i></span>
                    הדפס מתכון
                </button>
            </div>
        </article>
    </main>

    <footer>
        {% include footer.html %}
    </footer>

    <!-- קישור ל-Font Awesome -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
</html>
